import{z as p,S as q,n as G,A as W,B as H,w as K,_ as Y}from"./index.7fc30aee.js";import{d as Z,bS as J,c as Q,r as X,j as ee,aZ as y,C as s,aE as l,aH as e,aI as n,aM as i,u as I,D as M,aK as w,b3 as E,F as N,aF as C,G as v,aN as F,bj as b,bf as te,a6 as ne,aY as ae,a$ as oe,bU as se}from"./arco.fe595084.js";const le={adminListUrl:"/grid/admin/list",channelListUrl:"/grid/cp/listTree",menuListUrl:"/grid/settings/menuList",roleListUrl:"/grid/role/list",adminLogUrl:"/grid/admin/log",authListUrl:"/grid/menu/listApi"},pe=()=>p.post("/grid/settings/menuListAll"),B=r=>p.post("/grid/settings/saveMenu",r),ge=r=>p.post("/grid/settings/menuDetail",r),ie=r=>p.post("/grid/settings/delMenu",r),ue={class:"menu-name"},ce={name:"MenuManagement"},re=Z({...ce,setup(r){const L=J(()=>K(()=>import("./modal.76d1fd80.js"),["static/modal.76d1fd80.js","static/index.7fc30aee.js","static/arco.fe595084.js","static/chart.a6f8a910.js","static/vue.35cde437.js","static/index.0b2c67e6.css","static/modal.790172a3.css","static/index.df94bf0a.css"])),S=Q(()=>[{title:"\u83DC\u5355\u540D\u79F0",slotName:"menuName",align:"left"},{title:"\u83DC\u5355\u8DEF\u5F84",dataIndex:"path",align:"left"},{title:"\u8DEF\u7531\u540D\u79F0",dataIndex:"name",align:"left"},{title:"\u8DEF\u7531Path",slotName:"routePath",align:"left"},{title:"\u6392\u5E8F",slotName:"order",align:"center",width:120},{title:"\u662F\u5426\u5C55\u793A",slotName:"hideInMenu",align:"center",width:120},{title:"\u767B\u5F55\u9274\u6743",slotName:"requiresAuth",align:"center",width:120},{title:"\u662F\u5426\u7F13\u5B58",slotName:"ignoreCache",align:"center",width:120},{title:"\u64CD\u4F5C",slotName:"operation",align:"center",width:150}]),m=X(),a=ee({visible:!1,type:"",record:{},drawerVisible:!1}),h=async(u,o)=>{a.type=u,a.visible=!0,a.record=o},T=async u=>{if(a.type==="add"){const{code:o}=await B(u);o===200&&(b.success("\u6DFB\u52A0\u6210\u529F"),a.visible=!1,m.value.loadRemoteData())}else{const{code:o}=await B(u);o===200&&(b.success("\u4FEE\u6539\u6210\u529F"),a.visible=!1,m.value.loadRemoteData())}},U=u=>{te.warning({title:"\u63D0\u793A",content:"\u786E\u8BA4\u5220\u9664\u5F53\u524D\u83DC\u5355\u5417?",modalStyle:{textAlign:"center"},hideCancel:!1,onOk:async()=>{const{code:o}=await ie({id:u==null?void 0:u.id});o===200&&(b.success("\u5220\u9664\u6210\u529F"),m.value.loadRemoteData())}})},O=()=>{a.visible=!1};return(u,o)=>{const P=ne,_=ae,R=G,z=oe,g=W,d=se,f=H,V=y("GridTable"),$=y("Wrapper"),j=y("Container");return s(),l(j,null,{content:e(()=>[n($,null,{title:e(()=>[n(z,null,{default:e(()=>[n(_,{type:"primary",onClick:o[0]||(o[0]=t=>h("add"))},{icon:e(()=>[n(P)]),default:e(()=>[i(" \u6DFB\u52A0\u83DC\u5355 ")]),_:1}),n(_,{type:"primary",onClick:o[1]||(o[1]=t=>{var c;return(c=m.value)==null?void 0:c.loadRemoteData()})},{icon:e(()=>[n(R)]),default:e(()=>[i(" \u5237\u65B0 ")]),_:1})]),_:1})]),default:e(()=>[n(V,{ref_key:"gridTable",ref:m,"load-url":I(le).menuListUrl,columns:S.value,"page-size":100,"show-empty-tree":""},{menuName:e(({record:t})=>{var c,k,D,x,A;return[((c=t.meta.icon)==null?void 0:c.substring(0,4).toLowerCase())==="icon"?(s(),M(w,{key:0},[(k=t.meta)!=null&&k.icon?(s(),l(E((D=t.meta)==null?void 0:D.icon),{key:0,class:"icon",size:20,style:N({color:"var(--color-text-2)"})},null,8,["style"])):C("",!0)],64)):(s(),M(w,{key:1},[(x=t.meta)!=null&&x.icon?(s(),l(E(q),{key:0,class:"icon","icon-class":(A=t.meta)==null?void 0:A.icon,size:20,style:N({color:"var(--color-text-2)"})},null,8,["icon-class","style"])):C("",!0)],64)),v("span",ue,F(t.meta.locale),1)]}),order:e(({record:t})=>[v("span",null,F(t.meta.order),1)]),routePath:e(({record:t})=>[v("span",null,F(t.component),1)]),hideInMenu:e(({record:t})=>[t.meta.hideInMenu?(s(),l(d,{key:1,color:"red"},{icon:e(()=>[n(f)]),default:e(()=>[i(" \u9690\u85CF ")]),_:1})):(s(),l(d,{key:0,color:"green"},{icon:e(()=>[n(g)]),default:e(()=>[i(" \u5C55\u793A ")]),_:1}))]),requiresAuth:e(({record:t})=>[t.meta.requiresAuth?(s(),l(d,{key:0,color:"green"},{icon:e(()=>[n(g)]),default:e(()=>[i(" \u662F ")]),_:1})):(s(),l(d,{key:1,color:"red"},{icon:e(()=>[n(f)]),default:e(()=>[i(" \u5426 ")]),_:1}))]),ignoreCache:e(({record:t})=>[t.meta.ignoreCache?(s(),l(d,{key:1,color:"red"},{icon:e(()=>[n(f)]),default:e(()=>[i(" \u5426 ")]),_:1})):(s(),l(d,{key:0,color:"green"},{icon:e(()=>[n(g)]),default:e(()=>[i(" \u662F ")]),_:1}))]),operation:e(({record:t})=>[n(_,{class:"btn-text",type:"text",onClick:c=>h("edit",t)},{default:e(()=>[i("\u7F16\u8F91")]),_:2},1032,["onClick"]),n(_,{class:"btn-text",status:"danger",type:"text",onClick:c=>U(t)},{default:e(()=>[i("\u5220\u9664")]),_:2},1032,["onClick"])]),_:1},8,["load-url","columns"])]),_:1}),a.visible?(s(),l(I(L),{key:0,visible:a.visible,type:a.type,record:a.record,title:a.type==="add"?"\u65B0\u589E\u83DC\u5355":"\u4FEE\u6539\u83DC\u5355",onOnOk:T,onOnCancel:O},null,8,["visible","type","record","title"])):C("",!0)]),_:1})}}});const de=Y(re,[["__scopeId","data-v-64d45c91"]]),fe=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"}));export{pe as a,fe as i,ge as m};
